{% extends 'base.html' %}

{% block body %}
<div class="layui-row layui-col-space10">

  <div class="layui-col-md2">

  </div>
  <!-- 左侧导航区域（可配合layui已有的垂直导航） -->


  <ul class="layui-col-md3 layui-bg-blue layui-nav layui-nav-tree" lay-filter="test">
    {% set root = mongo_find_one('topics', {'name':'entire'}) %}
    {% for item1 in get_list('topics',filter1={'parent_id':root['_id']} ) %}
    <li class="layui-nav-item">
      <a class="" href="javascript:;">{{item1.name}}</a>
      <dl class="layui-nav-child">
        <dd><a href="{{item1._id}}">{{item1.name}}</a></dd>
        {% for item2 in get_list('topics',filter1={'parent_id':item1['_id']} ) %}
        <dd><a href="{{item2._id}}">子话题 {{item2.name}}</a></dd>
        {% endfor %}
      </dl>
    </li>
    {% endfor %}
    {% if user.get('is_admin') %}
    <li class="layui-nav-item">
      <a class="" href="add">新建话题</a>
    </li>
    {% endif %}
  </ul>

  <div class="layui-col-md5">
    {% if is_index %}
      <a>假设我们在这说了一段骚话</a>
    {% endif %}
    <!-- 内容主体区域 -->
    {% block topic_detail %}
    {% endblock %}
  </div>
  <div class="layui-col-md1">
  </div>
</div>
{% endblock %}